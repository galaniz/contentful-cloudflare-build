{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/gracielaalaniz/Documents/cloudflare-build/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport $, { useRef, useLayoutEffect } from 'react';\nimport { Box } from '@contentful/f36-core';\nimport { cx, css } from 'emotion';\nimport l from '@contentful/f36-tokens';\nvar D = Object.defineProperty,\n  H = Object.defineProperties;\nvar E = Object.getOwnPropertyDescriptors;\nvar s = Object.getOwnPropertySymbols;\nvar f = Object.prototype.hasOwnProperty,\n  y = Object.prototype.propertyIsEnumerable;\nvar m = function m(e, o, t) {\n    return o in e ? D(e, o, {\n      enumerable: !0,\n      configurable: !0,\n      writable: !0,\n      value: t\n    }) : e[o] = t;\n  },\n  u = function u(e, o) {\n    for (var t in o || (o = {})) f.call(o, t) && m(e, t, o[t]);\n    if (s) {\n      var _iterator = _createForOfIteratorHelper(s(o)),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var t = _step.value;\n          y.call(o, t) && m(e, t, o[t]);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    return e;\n  },\n  h = function h(e, o) {\n    return H(e, E(o));\n  };\nvar g = function g(e, o) {\n  var t = {};\n  for (var n in e) f.call(e, n) && o.indexOf(n) < 0 && (t[n] = e[n]);\n  if (e != null && s) {\n    var _iterator2 = _createForOfIteratorHelper(s(e)),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var n = _step2.value;\n        o.indexOf(n) < 0 && y.call(e, n) && (t[n] = e[n]);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n  return t;\n};\nvar P = function P(_ref) {\n  var e = _ref.className;\n  return {\n    collapseWrapper: cx(css({\n      boxSizing: \"border-box\",\n      overflow: \"hidden\",\n      height: 0,\n      display: \"none\",\n      transition: \"height \".concat(l.transitionDurationDefault, \" \").concat(l.transitionEasingDefault, \", padding \").concat(l.transitionDurationDefault, \" \").concat(l.transitionEasingDefault)\n    }), e)\n  };\n};\nvar I = function I(M) {\n  var a = M,\n    e = a.children,\n    o = a.className,\n    _a$isExpanded = a.isExpanded,\n    t = _a$isExpanded === void 0 ? !1 : _a$isExpanded,\n    _a$testId = a.testId,\n    n = _a$testId === void 0 ? \"cf-collapse\" : _a$testId,\n    d = g(a, [\"children\", \"className\", \"isExpanded\", \"testId\"]);\n  var i = useRef(null),\n    C = P({\n      className: o\n    }),\n    p = function p() {\n      var r = i.current;\n      return r ? \"\".concat(r.scrollHeight, \"px\") : \"0px\";\n    };\n  return useLayoutEffect(function () {\n    var r = i.current,\n      c = function c() {\n        r && (t ? r.style.setProperty(\"height\", \"auto\") : (r.style.removeProperty(\"pointer-events\"), r.style.setProperty(\"display\", \"none\")));\n      };\n    return r && (r.addEventListener(\"transitionend\", c), requestAnimationFrame(function () {\n      t ? (r.style.setProperty(\"display\", \"block\"), r.style.removeProperty(\"pointer-events\")) : r.style.setProperty(\"pointer-events\", \"none\");\n      var v = t ? \"0px\" : p(),\n        x = t ? p() : \"0px\";\n      r.style.setProperty(\"height\", v), requestAnimationFrame(function () {\n        r.style.setProperty(\"height\", x);\n      });\n    })), function () {\n      r && r.removeEventListener(\"transitionend\", c);\n    };\n  }, [t]), $.createElement(Box, h(u({}, d), {\n    testId: n,\n    role: \"region\",\n    \"aria-hidden\": !t,\n    className: C.collapseWrapper,\n    ref: i\n  }), e);\n};\nexport { I as Collapse };","map":{"version":3,"names":[],"sources":["/Users/gracielaalaniz/Documents/cloudflare-build/node_modules/@contentful/f36-collapse/src/Collapse.tsx","/Users/gracielaalaniz/Documents/cloudflare-build/node_modules/@contentful/f36-collapse/src/Collapse.styles.ts"],"sourcesContent":["import React, { useLayoutEffect, useRef } from 'react';\nimport {\n  Box,\n  type CommonProps,\n  type PropsWithHTMLElement,\n} from '@contentful/f36-core';\n\nimport { getCollapseStyles } from './Collapse.styles';\n\ninterface CollapseInternalProps extends CommonProps {\n  /**\n   * Child nodes to be rendered in the component\n   */\n  children?: React.ReactNode;\n  /**\n   * A boolean that tells if the accordion should be expanded or collapsed\n   */\n  isExpanded: boolean;\n  /**\n   * string for additional classNames\n   */\n  className?: string;\n}\n\nexport type CollapseProps = PropsWithHTMLElement<CollapseInternalProps, 'div'>;\n\nexport const Collapse = ({\n  children,\n  className,\n  isExpanded = false,\n  testId = 'cf-collapse',\n  ...otherProps\n}: CollapseProps) => {\n  const panelEl = useRef<HTMLDivElement>(null);\n  const styles = getCollapseStyles({ className });\n\n  const getPanelContentHeight = () => {\n    const { current } = panelEl;\n\n    if (!current) {\n      // to keep the function return type as string only and\n      // not overcomplicate things with non-nullable checks\n      return '0px';\n    }\n\n    return `${current.scrollHeight}px`;\n  };\n\n  useLayoutEffect(() => {\n    const { current } = panelEl;\n\n    const handleTransitionEnd = () => {\n      if (current) {\n        if (isExpanded) {\n          current.style.setProperty('height', 'auto');\n        } else {\n          current.style.removeProperty('pointer-events');\n          current.style.setProperty('display', 'none');\n        }\n      }\n    };\n\n    if (current) {\n      current.addEventListener('transitionend', handleTransitionEnd);\n      requestAnimationFrame(function () {\n        if (!isExpanded) {\n          // Don't allow interaction while collapsing\n          current.style.setProperty('pointer-events', 'none');\n        } else {\n          // Overwrite none display to see expanding transition\n          current.style.setProperty('display', 'block');\n          current.style.removeProperty('pointer-events');\n        }\n        // Calculate panel height after removing none display\n        const fromHeight = isExpanded ? '0px' : getPanelContentHeight();\n        const toHeight = isExpanded ? getPanelContentHeight() : '0px';\n        current.style.setProperty('height', fromHeight);\n\n        requestAnimationFrame(function () {\n          current.style.setProperty('height', toHeight);\n        });\n      });\n    }\n\n    return () => {\n      if (current) {\n        current.removeEventListener('transitionend', handleTransitionEnd);\n      }\n    };\n  }, [isExpanded]);\n\n  return (\n    <Box\n      {...otherProps}\n      testId={testId}\n      role=\"region\"\n      aria-hidden={!isExpanded}\n      className={styles.collapseWrapper}\n      ref={panelEl}\n    >\n      {children}\n    </Box>\n  );\n};\n","import { css, cx } from 'emotion';\nimport tokens from '@contentful/f36-tokens';\n\nexport const getCollapseStyles = ({ className }: { className?: string }) => {\n  return {\n    collapseWrapper: cx(\n      css({\n        boxSizing: 'border-box',\n        overflow: 'hidden',\n        height: 0,\n        display: 'none',\n        transition: `height ${tokens.transitionDurationDefault} ${tokens.transitionEasingDefault}, padding ${tokens.transitionDurationDefault} ${tokens.transitionEasingDefault}`,\n      }),\n      className,\n    ),\n  };\n};\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}