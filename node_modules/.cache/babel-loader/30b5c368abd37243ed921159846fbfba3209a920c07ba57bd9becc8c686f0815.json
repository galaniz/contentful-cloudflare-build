{"ast":null,"code":"import _slicedToArray from\"/Users/gracielaalaniz/Documents/cloudflare-build/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Button,Text}from'@contentful/f36-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Sidebar=function Sidebar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),disabled=_useState2[0],setDisabled=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var clickHandler=function clickHandler(){/* Update button */setLoading(true);setDisabled(true);/* Variables */var accountIdentifier=\"1c96388f497c618fe44176227e8be52f\";var projectName=\"olivia-korosak\";var apiKey=\"xUfrWqPuExVg_olVHhRJFOMOgVwkzby-pAYlLc1N\";var branch=\"staging\";/* Data */var form=new FormData();form.append(\"branch\",branch);/* Options */var options={method:\"POST\",headers:{\"Content-Type\":\"multipart/form-data; boundary=---011000010111000001101001\",\"X-Auth-Email\":apiKey}};options.body=form;/* Url */var url=\"https://api.cloudflare.com/client/v4/accounts/\".concat(accountIdentifier,\"/pages/projects/\").concat(projectName,\"/deployments\");/* Request */fetch(url,options).then(function(res){return res.json();}).then(function(res){console.log(res);setLoading(false);setDisabled(false);setMessage(\"Site successfully built!\");}).catch(function(){setLoading(false);setDisabled(false);setMessage(\"There was a problem building the site. Try again later.\");});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",isFullWidth:true,isDisabled:disabled,isLoading:loading,onClick:clickHandler,children:\"Build Site\"}),/*#__PURE__*/_jsx(\"div\",{\"aria-live\":\"polite\",children:/*#__PURE__*/_jsx(Text,{fontColor:\"gray600\",marginTop:\"spacingM\",as:\"p\",children:message})})]});};export default Sidebar;","map":{"version":3,"names":["React","useState","Button","Text","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Sidebar","_useState","_useState2","_slicedToArray","disabled","setDisabled","_useState3","_useState4","loading","setLoading","_useState5","_useState6","message","setMessage","clickHandler","accountIdentifier","projectName","apiKey","branch","form","FormData","append","options","method","headers","body","url","concat","fetch","then","res","json","console","log","catch","children","variant","isFullWidth","isDisabled","isLoading","onClick","fontColor","marginTop","as"],"sources":["/Users/gracielaalaniz/Documents/cloudflare-build/src/locations/Sidebar.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Text } from '@contentful/f36-components';\n\nconst Sidebar = () => {\n  const [disabled, setDisabled] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const clickHandler = () => {\n    /* Update button */\n\n    setLoading(true);\n    setDisabled(true);\n\n    /* Variables */\n\n    const accountIdentifier = \"1c96388f497c618fe44176227e8be52f\";\n    const projectName = \"olivia-korosak\";\n    const apiKey = \"xUfrWqPuExVg_olVHhRJFOMOgVwkzby-pAYlLc1N\";\n    const branch = \"staging\";\n  \n    /* Data */\n  \n    const form = new FormData();\n    form.append(\"branch\", branch);\n\n    /* Options */\n\n    const options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"multipart/form-data; boundary=---011000010111000001101001\",\n        \"X-Auth-Email\": apiKey,\n      }\n    };\n\n    options.body = form;\n\n    /* Url */\n\n    const url = `https://api.cloudflare.com/client/v4/accounts/${accountIdentifier}/pages/projects/${projectName}/deployments`;\n\n    /* Request */\n\n    fetch(url, options)\n      .then(res => res.json())\n      .then(res => {\n        console.log(res);\n        setLoading(false);\n        setDisabled(false);\n        setMessage(\"Site successfully built!\");\n      })\n      .catch(() => {\n        setLoading(false);\n        setDisabled(false);\n        setMessage(\"There was a problem building the site. Try again later.\");\n      });\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"primary\"\n        isFullWidth\n        isDisabled={disabled}\n        isLoading={loading}\n        onClick={clickHandler}\n      >\n        Build Site\n      </Button>\n      <div aria-live=\"polite\">\n        <Text\n          fontColor=\"gray600\"\n          marginTop=\"spacingM\"\n          as=\"p\"\n        >\n          {message}\n        </Text>\n      </div>\n    </>\n  );\n};\n\nexport default Sidebar;\n"],"mappings":"sIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,IAAI,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1D,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,IAAAC,SAAA,CAAgCV,QAAQ,CAAC,KAAK,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA8Bf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAA8BnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,mBAEAL,UAAU,CAAC,IAAI,CAAC,CAChBJ,WAAW,CAAC,IAAI,CAAC,CAEjB,eAEA,GAAM,CAAAU,iBAAiB,CAAG,kCAAkC,CAC5D,GAAM,CAAAC,WAAW,CAAG,gBAAgB,CACpC,GAAM,CAAAC,MAAM,CAAG,0CAA0C,CACzD,GAAM,CAAAC,MAAM,CAAG,SAAS,CAExB,UAEA,GAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,QAAQ,EAAE,CAC3BD,IAAI,CAACE,MAAM,CAAC,QAAQ,CAAEH,MAAM,CAAC,CAE7B,aAEA,GAAM,CAAAI,OAAO,CAAG,CACdC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,2DAA2D,CAC3E,cAAc,CAAEP,MAClB,CACF,CAAC,CAEDK,OAAO,CAACG,IAAI,CAAGN,IAAI,CAEnB,SAEA,GAAM,CAAAO,GAAG,kDAAAC,MAAA,CAAoDZ,iBAAiB,qBAAAY,MAAA,CAAmBX,WAAW,gBAAc,CAE1H,aAEAY,KAAK,CAACF,GAAG,CAAEJ,OAAO,CAAC,CAChBO,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAC,GAAG,CAAI,CACXE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAChBrB,UAAU,CAAC,KAAK,CAAC,CACjBJ,WAAW,CAAC,KAAK,CAAC,CAClBQ,UAAU,CAAC,0BAA0B,CAAC,CACxC,CAAC,CAAC,CACDqB,KAAK,CAAC,UAAM,CACXzB,UAAU,CAAC,KAAK,CAAC,CACjBJ,WAAW,CAAC,KAAK,CAAC,CAClBQ,UAAU,CAAC,yDAAyD,CAAC,CACvE,CAAC,CAAC,CACN,CAAC,CAED,mBACEd,KAAA,CAAAF,SAAA,EAAAsC,QAAA,eACExC,IAAA,CAACH,MAAM,EACL4C,OAAO,CAAC,SAAS,CACjBC,WAAW,MACXC,UAAU,CAAElC,QAAS,CACrBmC,SAAS,CAAE/B,OAAQ,CACnBgC,OAAO,CAAE1B,YAAa,CAAAqB,QAAA,CACvB,YAED,EAAS,cACTxC,IAAA,QAAK,YAAU,QAAQ,CAAAwC,QAAA,cACrBxC,IAAA,CAACF,IAAI,EACHgD,SAAS,CAAC,SAAS,CACnBC,SAAS,CAAC,UAAU,CACpBC,EAAE,CAAC,GAAG,CAAAR,QAAA,CAELvB,OAAO,EACH,EACH,GACL,CAEP,CAAC,CAED,cAAe,CAAAZ,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}